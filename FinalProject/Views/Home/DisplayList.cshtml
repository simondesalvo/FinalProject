<html>
<head>
    <style>
    .slidecontainer {
    width: 100%; /* Width of the outside container */
    }

    /* The slider itself */
    .slider {
    -webkit-appearance: none;  /* Override default CSS styles */
    width: 100%; /* Full-width */
    height: 25px; /* Specified height */
    background: #d3d3d3; /* Grey background */
    outline: none; /* Remove outline */
    opacity: 0.7; /* Set transparency (for mouse-over effects on hover) */
    -webkit-transition: .2s; /* 0.2 seconds transition on hover */
    transition: opacity .2s;
    }

    /* Mouse-over effects */
    .slider:hover {
    opacity: 1; /* Fully shown on mouse-over */
    }
    </style >
    </head >
<body>
    @{
        ViewData["Title"] = "Movie List";
    }
    @model List<UserMovie>

    <div>
        @{ var result = TempData["MovieExistsCheck"];}
        @if (result != null)
        {
            <p>@TempData["MovieExistsCheck"] </p>
            <br />
        }
        <table class="table table-bordered">
            <tr>
                <th> Title</th>
                <th> Watched?</th>
                <th> Watch Location</th>
                <th> Year Watched</th>
                <th> Your Rating</th>
                <th> Your Review</th>
            </tr>
            @foreach (UserMovie m in Model)
            {
                <tr>
                    <td> <a href="../Home/MovieSelection?id=@m.MovieId">@m.Title </a> </td>
                    @if (m.Watched == true)
                    {
                        <td> Watched</td>
                        <td>@m.WatchLocation </td>
                        @if (m.WatchYear != null)
                        {
                            <td>@m.WatchYear.ToString().Remove(10).TrimEnd('1') </td>
                        }
                        else
                        {
                            <td> </td>
                        }

                    }
                    else
                    {
                        <td> Not watched</td>
                        <td> n/a</td>
                        <td> n/a</td>
                    }
                    @if (m.UserRating > 0)
                    {
                        @*<td>@m.UserRating</td>*@
                        <td>
                            <div class="slidecontainer">
                                <p>Value: <span id="rating"></span></p>
                                <input type="range" min="1" max="100" value=@m.UserRating class="slider" id="userRating">
                            </div>
                            <a href="../Home/UpdateUserRating"> Update</a>
                        </td>
                    }
                    else
                    {
                        <td> </td>
                    }
                    <td>@m.UserReview </td>
                    <td class="alert-info"> <a href="../Home/UpdateMovie?id=@m.Id"> Update Movie</a> </td>
                    <td class="alert-danger" onclick="return confirm('Are you sure, you want to delete this movie?')"> <a href="../Home/DeleteMovie?id=@m.Id"> Delete Movie</a> </td>
                </tr>
            }
        </table>
        <button type="button" class="btn btn-info" a href="../Home/Search"> Movie Search</button>
    </div>
    <script>
        var slider = document.getElementById("userRating");
        var output = document.getElementById("rating");
        output.innerHTML = slider.value;

        slider.oninput = function () {
            output.innerHTML = this.value;
        }
    </script>
</body>
    </html >